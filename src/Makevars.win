PKG_LIBS = -L$(LIB_EXPAT_32) -L$(LIB_EXPAT_64) -L$(LIB_EXPAT)$(R_ARCH)/lib -shared -lexpat -lpthread $(shell "${R_HOME}/bin/Rscript.exe" -e "Rcpp:::LdFlags()")
PKG_CXXFLAGS += -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -DGCC
ZLIB_CFLAGS += $(shell echo 'zlibbioc::pkgconfig("PKG_CFLAGS")' | "${R_HOME}/bin/R" --vanilla --slave)
PKG_LIBS+=$(shell echo 'zlibbioc::pkgconfig("PKG_LIBS_shared")' | "${R_HOME}/bin/R" --vanilla --slave)
%.o: %.c
	$(CC) $(ZLIB_CFLAGS) $(ALL_CPPFLAGS) $(ALL_CFLAGS) -c $< -o $@
%.o: %.cpp
	$(CXX) $(ZLIB_CFLAGS) $(ALL_CPPFLAGS) $(ALL_CXXFLAGS) -c $< -o $@

